{"ast":null,"code":"import axios from\"axios\";import{setAlert}from'./alert';import{ACCOUNT_DELETED,CLEAR_PROFILE,GET_PROFILE,PROFILE_ERROR,UPDATE_PROFILE}from'./types';//Get current users profile \nexport const getCurrentProfile=()=>async dispatch=>{try{const res=await axios.get('./api/profile/me');dispatch({type:GET_PROFILE,payload:res.data});}catch(error){dispatch({type:PROFILE_ERROR,payload:{msg:error.response.statusText,status:error.response.status}});}};// Create or update profile\nexport const CreateProfile=function(formData,navigate){let edit=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;return async dispatch=>{try{const config={headers:{'Content-Type':'application/json'}};const res=await axios.post('/api/profile',formData,config);dispatch({type:GET_PROFILE,payload:res.data});dispatch(setAlert(edit?'Profile Updated':'Profile Created','success'));if(!edit){navigate('/dashboard');}}catch(error){var _error$response,_error$response$data;const errors=(_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.errors;if(errors){errors.forEach(error=>dispatch(setAlert(error.msg,'danger')));}dispatch({type:PROFILE_ERROR,payload:{msg:error.response.statusText,status:error.response.status}});}};};// Add Experience\nexport const addExperience=(formData,history)=>async dispatch=>{try{const config={headers:{'Content-Type':'application/json'}};const res=await axios.put('/api/profile/experience',formData,config);dispatch({type:UPDATE_PROFILE,payload:res.data});dispatch(setAlert('Experience Added','success'));history.push('/dashboard');}catch(error){var _error$response2,_error$response2$data;const errors=(_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.errors;if(errors){errors.forEach(error=>dispatch(setAlert(error.msg,'danger')));}dispatch({type:PROFILE_ERROR,payload:{msg:error.response.statusText,status:error.response.status}});}};// Add Education\nexport const addEducation=(formData,history)=>async dispatch=>{try{const config={headers:{'Content-Type':'application/json'}};const res=await axios.put('/api/profile/education',formData,config);dispatch({type:UPDATE_PROFILE,payload:res.data});dispatch(setAlert('Education Added','success'));history.push('/dashboard');}catch(error){var _error$response3,_error$response3$data;const errors=(_error$response3=error.response)===null||_error$response3===void 0?void 0:(_error$response3$data=_error$response3.data)===null||_error$response3$data===void 0?void 0:_error$response3$data.errors;if(errors){errors.forEach(error=>dispatch(setAlert(error.msg,'danger')));}dispatch({type:PROFILE_ERROR,payload:{msg:error.response.statusText,status:error.response.status}});}};// Delete experience \nexport const deleteExperience=id=>async dispatch=>{try{const res=await axios.delete('/api/profile/experience/${id}');dispatch({type:UPDATE_PROFILE,payload:res.data});dispatch(setAlert('Experience Removed','success'));}catch(error){dispatch({type:PROFILE_ERROR,payload:{msg:error.response.statusText,status:error.response.status}});}};// Delete education \nexport const deleteEducation=id=>async dispatch=>{try{const res=await axios.delete('/api/profile/education/${id}');dispatch({type:UPDATE_PROFILE,payload:res.data});dispatch(setAlert('Education Removed','success'));}catch(error){dispatch({type:PROFILE_ERROR,payload:{msg:error.response.statusText,status:error.response.status}});}};// Delete account & profile\nexport const deleteAccount=()=>async dispatch=>{if(window.confirm('Are you sure? This can NOT be undone!')){try{const res=await axios.delete('/api/profile');dispatch({type:CLEAR_PROFILE});dispatch({type:ACCOUNT_DELETED});dispatch(setAlert('Your account has been permanently deleted'));}catch(error){dispatch({type:PROFILE_ERROR,payload:{msg:error.response.statusText,status:error.response.status}});}}};","map":{"version":3,"names":["axios","setAlert","ACCOUNT_DELETED","CLEAR_PROFILE","GET_PROFILE","PROFILE_ERROR","UPDATE_PROFILE","getCurrentProfile","dispatch","res","get","type","payload","data","error","msg","response","statusText","status","CreateProfile","formData","navigate","edit","arguments","length","undefined","config","headers","post","_error$response","_error$response$data","errors","forEach","addExperience","history","put","push","_error$response2","_error$response2$data","addEducation","_error$response3","_error$response3$data","deleteExperience","id","delete","deleteEducation","deleteAccount","window","confirm"],"sources":["C:/DEVC/client/src/actions/profile.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { setAlert } from './alert';\r\n\r\nimport{\r\n    ACCOUNT_DELETED,\r\n    CLEAR_PROFILE,\r\n    GET_PROFILE,\r\n    PROFILE_ERROR,\r\n    UPDATE_PROFILE\r\n} from './types';\r\n\r\n//Get current users profile \r\nexport const getCurrentProfile = () => async dispatch => {\r\n    try {\r\n        const res = await axios.get('./api/profile/me');\r\n\r\n        dispatch({\r\n            type: GET_PROFILE,\r\n            payload: res.data\r\n       });\r\n    } catch (error) {\r\n        dispatch({\r\n            type: PROFILE_ERROR,\r\n            payload: {msg: error.response.statusText, status: error.response.status}\r\n        });\r\n    }\r\n};\r\n\r\n// Create or update profile\r\nexport const CreateProfile = (formData, navigate, edit = false) => async dispatch => {\r\n    try {\r\n       const config = {\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        }\r\n       } \r\n       const res = await axios.post('/api/profile', formData, config);\r\n\r\n       dispatch({\r\n            type: GET_PROFILE,\r\n            payload: res.data\r\n       });\r\n\r\n       dispatch(setAlert(edit ? 'Profile Updated' : 'Profile Created', 'success'));\r\n\r\n       if (!edit) {\r\n        navigate('/dashboard');\r\n       }\r\n\r\n    } catch (error) {\r\n        const errors = error.response?.data?.errors;\r\n\r\n    if (errors) {\r\n      errors.forEach(error =>\r\n        dispatch(setAlert(error.msg, 'danger'))\r\n      );\r\n    }\r\n         dispatch({\r\n            type: PROFILE_ERROR,\r\n            payload: {msg: error.response.statusText, status: error.response.status}\r\n        });\r\n    }\r\n}\r\n\r\n// Add Experience\r\nexport const addExperience = (formData, history) => async dispatch =>{\r\n     try {\r\n       const config = {\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        }\r\n       } \r\n       const res = await axios.put('/api/profile/experience', formData, config);\r\n\r\n       dispatch({\r\n            type: UPDATE_PROFILE,\r\n            payload: res.data\r\n       });\r\n\r\n       dispatch(setAlert('Experience Added', 'success'));\r\n\r\n        history.push('/dashboard');\r\n       \r\n\r\n    } catch (error) {\r\n        const errors = error.response?.data?.errors;\r\n\r\n    if (errors) {\r\n      errors.forEach(error =>\r\n        dispatch(setAlert(error.msg, 'danger'))\r\n      );\r\n    }\r\n         dispatch({\r\n            type: PROFILE_ERROR,\r\n            payload: {msg: error.response.statusText, status: error.response.status}\r\n        });\r\n    }\r\n\r\n}\r\n\r\n// Add Education\r\nexport const addEducation = (formData, history) => async dispatch =>{\r\n     try {\r\n       const config = {\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        }\r\n       } \r\n       const res = await axios.put('/api/profile/education', formData, config);\r\n\r\n       dispatch({\r\n            type: UPDATE_PROFILE,\r\n            payload: res.data\r\n       });\r\n\r\n       dispatch(setAlert('Education Added', 'success'));\r\n\r\n        history.push('/dashboard');\r\n\r\n\r\n    } catch (error) {\r\n        const errors = error.response?.data?.errors;\r\n\r\n    if (errors) {\r\n      errors.forEach(error =>\r\n        dispatch(setAlert(error.msg, 'danger'))\r\n      );\r\n    }\r\n         dispatch({\r\n            type: PROFILE_ERROR,\r\n            payload: {msg: error.response.statusText, status: error.response.status}\r\n        });\r\n    }\r\n\r\n}\r\n\r\n// Delete experience \r\nexport const deleteExperience = id => async dispatch => {\r\n    try {\r\n        const res = await axios.delete('/api/profile/experience/${id}');\r\n\r\n        dispatch({\r\n            type: UPDATE_PROFILE,\r\n            payload: res.data\r\n        });\r\n\r\n        dispatch(setAlert('Experience Removed', 'success'));\r\n    } catch (error) {\r\n         dispatch({\r\n            type: PROFILE_ERROR,\r\n            payload: {msg: error.response.statusText, status: error.response.status}\r\n        });\r\n    }\r\n}\r\n\r\n// Delete education \r\nexport const deleteEducation = id => async dispatch => {\r\n    try {\r\n        const res = await axios.delete('/api/profile/education/${id}');\r\n\r\n        dispatch({\r\n            type: UPDATE_PROFILE,\r\n            payload: res.data\r\n        });\r\n\r\n        dispatch(setAlert('Education Removed', 'success'));\r\n    } catch (error) {\r\n         dispatch({\r\n            type: PROFILE_ERROR,\r\n            payload: {msg: error.response.statusText, status: error.response.status}\r\n        });\r\n    }\r\n}\r\n\r\n// Delete account & profile\r\nexport const deleteAccount = () => async dispatch => {\r\n    if(window.confirm('Are you sure? This can NOT be undone!')){\r\ntry {\r\n        const res = await axios.delete('/api/profile');\r\n\r\n        dispatch({ type: CLEAR_PROFILE,});\r\n        dispatch({ type: ACCOUNT_DELETED,});\r\n\r\n        dispatch(setAlert('Your account has been permanently deleted'));\r\n    } catch (error) {\r\n         dispatch({\r\n            type: PROFILE_ERROR,\r\n            payload: {msg: error.response.statusText, status: error.response.status}\r\n        });\r\n    }\r\n}\r\n    \r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}