{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ExplainableCursor = void 0;\nconst abstract_cursor_1 = require(\"./abstract_cursor\");\n/**\n * @public\n *\n * A base class for any cursors that have `explain()` methods.\n */\nclass ExplainableCursor extends abstract_cursor_1.AbstractCursor {\n  resolveExplainTimeoutOptions(verbosity, options) {\n    let explain;\n    let timeout;\n    if (verbosity == null && options == null) {\n      explain = undefined;\n      timeout = undefined;\n    } else if (verbosity != null && options == null) {\n      explain = typeof verbosity !== 'object' ? verbosity : 'verbosity' in verbosity ? verbosity : undefined;\n      timeout = typeof verbosity === 'object' && 'timeoutMS' in verbosity ? verbosity : undefined;\n    } else {\n      // @ts-expect-error TS isn't smart enough to determine that if both options are provided, the first is explain options\n      explain = verbosity;\n      timeout = options;\n    }\n    return {\n      timeout,\n      explain\n    };\n  }\n}\nexports.ExplainableCursor = ExplainableCursor;","map":{"version":3,"names":["abstract_cursor_1","require","ExplainableCursor","AbstractCursor","resolveExplainTimeoutOptions","verbosity","options","explain","timeout","undefined","exports"],"sources":["C:\\DEVC\\node_modules\\mongodb\\src\\cursor\\explainable_cursor.ts"],"sourcesContent":["import { type Document } from '../bson';\nimport { type ExplainCommandOptions, type ExplainVerbosityLike } from '../explain';\nimport { AbstractCursor } from './abstract_cursor';\n\n/**\n * @public\n *\n * A base class for any cursors that have `explain()` methods.\n */\nexport abstract class ExplainableCursor<TSchema> extends AbstractCursor<TSchema> {\n  /** Execute the explain for the cursor */\n  abstract explain(): Promise<Document>;\n  abstract explain(verbosity: ExplainVerbosityLike | ExplainCommandOptions): Promise<Document>;\n  abstract explain(options: { timeoutMS?: number }): Promise<Document>;\n  abstract explain(\n    verbosity: ExplainVerbosityLike | ExplainCommandOptions,\n    options: { timeoutMS?: number }\n  ): Promise<Document>;\n  abstract explain(\n    verbosity?: ExplainVerbosityLike | ExplainCommandOptions | { timeoutMS?: number },\n    options?: { timeoutMS?: number }\n  ): Promise<Document>;\n\n  protected resolveExplainTimeoutOptions(\n    verbosity?: ExplainVerbosityLike | ExplainCommandOptions | { timeoutMS?: number },\n    options?: { timeoutMS?: number }\n  ): { timeout?: { timeoutMS?: number }; explain?: ExplainVerbosityLike | ExplainCommandOptions } {\n    let explain: ExplainVerbosityLike | ExplainCommandOptions | undefined;\n    let timeout: { timeoutMS?: number } | undefined;\n\n    if (verbosity == null && options == null) {\n      explain = undefined;\n      timeout = undefined;\n    } else if (verbosity != null && options == null) {\n      explain =\n        typeof verbosity !== 'object'\n          ? verbosity\n          : 'verbosity' in verbosity\n            ? verbosity\n            : undefined;\n\n      timeout = typeof verbosity === 'object' && 'timeoutMS' in verbosity ? verbosity : undefined;\n    } else {\n      // @ts-expect-error TS isn't smart enough to determine that if both options are provided, the first is explain options\n      explain = verbosity;\n      timeout = options;\n    }\n\n    return { timeout, explain };\n  }\n}\n"],"mappings":";;;;;;AAEA,MAAAA,iBAAA,GAAAC,OAAA;AAEA;;;;;AAKA,MAAsBC,iBAA2B,SAAQF,iBAAA,CAAAG,cAAuB;EAcpEC,4BAA4BA,CACpCC,SAAiF,EACjFC,OAAgC;IAEhC,IAAIC,OAAiE;IACrE,IAAIC,OAA2C;IAE/C,IAAIH,SAAS,IAAI,IAAI,IAAIC,OAAO,IAAI,IAAI,EAAE;MACxCC,OAAO,GAAGE,SAAS;MACnBD,OAAO,GAAGC,SAAS;IACrB,CAAC,MAAM,IAAIJ,SAAS,IAAI,IAAI,IAAIC,OAAO,IAAI,IAAI,EAAE;MAC/CC,OAAO,GACL,OAAOF,SAAS,KAAK,QAAQ,GACzBA,SAAS,GACT,WAAW,IAAIA,SAAS,GACtBA,SAAS,GACTI,SAAS;MAEjBD,OAAO,GAAG,OAAOH,SAAS,KAAK,QAAQ,IAAI,WAAW,IAAIA,SAAS,GAAGA,SAAS,GAAGI,SAAS;IAC7F,CAAC,MAAM;MACL;MACAF,OAAO,GAAGF,SAAS;MACnBG,OAAO,GAAGF,OAAO;IACnB;IAEA,OAAO;MAAEE,OAAO;MAAED;IAAO,CAAE;EAC7B;;AAxCFG,OAAA,CAAAR,iBAAA,GAAAA,iBAAA","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}