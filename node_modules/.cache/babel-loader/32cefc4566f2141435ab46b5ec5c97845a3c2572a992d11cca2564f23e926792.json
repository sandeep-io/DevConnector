{"ast":null,"code":"'use strict';\n\nconst denied = exports;\ndenied.distinct = function (self) {\n  if (self._fields && Object.keys(self._fields).length > 0) {\n    return 'field selection and slice';\n  }\n  const keys = Object.keys(denied.distinct);\n  let err;\n  keys.every(function (option) {\n    if (self.options[option]) {\n      err = option;\n      return false;\n    }\n    return true;\n  });\n  return err;\n};\ndenied.distinct.select = denied.distinct.slice = denied.distinct.sort = denied.distinct.limit = denied.distinct.skip = denied.distinct.batchSize = denied.distinct.hint = denied.distinct.tailable = true;\n\n// aggregation integration\n\ndenied.findOneAndUpdate = denied.findOneAndDelete = function (self) {\n  const keys = Object.keys(denied.findOneAndUpdate);\n  let err;\n  keys.every(function (option) {\n    if (self.options[option]) {\n      err = option;\n      return false;\n    }\n    return true;\n  });\n  return err;\n};\ndenied.findOneAndUpdate.limit = denied.findOneAndUpdate.skip = denied.findOneAndUpdate.batchSize = denied.findOneAndUpdate.tailable = true;\ndenied.findOneAndReplace = function (self) {\n  const keys = Object.keys(denied.findOneAndUpdate);\n  let err;\n  keys.every(function (option) {\n    if (self.options[option]) {\n      err = option;\n      return false;\n    }\n    return true;\n  });\n  return err;\n};\ndenied.countDocuments = function (self) {\n  if (self._fields && Object.keys(self._fields).length > 0) {\n    return 'field selection and slice';\n  }\n  const keys = Object.keys(denied.countDocuments);\n  let err;\n  keys.every(function (option) {\n    if (self.options[option]) {\n      err = option;\n      return false;\n    }\n    return true;\n  });\n  return err;\n};\ndenied.countDocuments.slice = denied.countDocuments.batchSize = denied.countDocuments.tailable = true;","map":{"version":3,"names":["denied","exports","distinct","self","_fields","Object","keys","length","err","every","option","options","select","slice","sort","limit","skip","batchSize","hint","tailable","findOneAndUpdate","findOneAndDelete","findOneAndReplace","countDocuments"],"sources":["C:/DEVC/node_modules/mquery/lib/permissions.js"],"sourcesContent":["'use strict';\n\nconst denied = exports;\n\ndenied.distinct = function(self) {\n  if (self._fields && Object.keys(self._fields).length > 0) {\n    return 'field selection and slice';\n  }\n\n  const keys = Object.keys(denied.distinct);\n  let err;\n\n  keys.every(function(option) {\n    if (self.options[option]) {\n      err = option;\n      return false;\n    }\n    return true;\n  });\n\n  return err;\n};\ndenied.distinct.select =\ndenied.distinct.slice =\ndenied.distinct.sort =\ndenied.distinct.limit =\ndenied.distinct.skip =\ndenied.distinct.batchSize =\ndenied.distinct.hint =\ndenied.distinct.tailable = true;\n\n\n// aggregation integration\n\n\ndenied.findOneAndUpdate =\ndenied.findOneAndDelete = function(self) {\n  const keys = Object.keys(denied.findOneAndUpdate);\n  let err;\n\n  keys.every(function(option) {\n    if (self.options[option]) {\n      err = option;\n      return false;\n    }\n    return true;\n  });\n\n  return err;\n};\ndenied.findOneAndUpdate.limit =\ndenied.findOneAndUpdate.skip =\ndenied.findOneAndUpdate.batchSize =\ndenied.findOneAndUpdate.tailable = true;\n\ndenied.findOneAndReplace = function(self) {\n  const keys = Object.keys(denied.findOneAndUpdate);\n  let err;\n\n  keys.every(function(option) {\n    if (self.options[option]) {\n      err = option;\n      return false;\n    }\n    return true;\n  });\n\n  return err;\n};\n\n\ndenied.countDocuments = function(self) {\n  if (self._fields && Object.keys(self._fields).length > 0) {\n    return 'field selection and slice';\n  }\n\n  const keys = Object.keys(denied.countDocuments);\n  let err;\n\n  keys.every(function(option) {\n    if (self.options[option]) {\n      err = option;\n      return false;\n    }\n    return true;\n  });\n\n  return err;\n};\n\ndenied.countDocuments.slice =\ndenied.countDocuments.batchSize =\ndenied.countDocuments.tailable = true;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}