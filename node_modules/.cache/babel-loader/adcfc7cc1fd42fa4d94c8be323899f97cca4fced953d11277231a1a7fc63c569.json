{"ast":null,"code":"import React,{Fragment}from\"react\";import{Link}from'react-router-dom';import Moment from'react-moment';import{connect}from'react-redux';import{addLike,removeLike,deletePost}from'../../actions/post';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PostItem=_ref=>{let{addLike,removeLike,deletePost,auth,post:{_id,text,name,avatar,user,likes,comments,date},showActions}=_ref;return/*#__PURE__*/_jsxs(\"div\",{className:\"post bg-white p-1 my-1\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Link,{to:\"/profile/\".concat(user),children:[/*#__PURE__*/_jsx(\"img\",{className:\"round-img\",src:avatar,alt:\"\"}),/*#__PURE__*/_jsx(\"h4\",{children:name})]})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"my-1\",children:text}),/*#__PURE__*/_jsxs(\"p\",{className:\"post-date\",children:[\"Posted on \",/*#__PURE__*/_jsx(Moment,{format:\"YYYY/MM/DD\",children:date})]}),\"showActions && \",/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsxs(\"button\",{onClick:e=>addLike(_id),type:\"button\",className:\"btn btn-light\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-thumbs-up\"}),' ',/*#__PURE__*/_jsx(\"span\",{children:likes.length>0&&/*#__PURE__*/_jsx(\"span\",{children:likes.length})})]}),/*#__PURE__*/_jsx(\"button\",{onClick:e=>removeLike(_id),type:\"button\",className:\"btn btn-light\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-thumbs-down\"})}),/*#__PURE__*/_jsxs(Link,{to:\"/posts/\".concat(_id),className:\"btn btn-primary\",children:[\"Discussion \",' ',comments.length>0&&/*#__PURE__*/_jsx(\"span\",{className:\"comment-count\",children:comments.length})]}),!auth.loading&&user===auth.user._id&&/*#__PURE__*/_jsx(\"button\",{onClick:e=>deletePost(_id),type:\"button\",className:\"btn btn-danger\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-times\"})})]})]})]});};PostItem.defaultProps={showActions:true};const mapStateToProps=state=>({auth:state.auth});export default connect(mapStateToProps,{addLike,removeLike,deletePost})(PostItem);","map":{"version":3,"names":["React","Fragment","Link","Moment","connect","addLike","removeLike","deletePost","jsx","_jsx","jsxs","_jsxs","PostItem","_ref","auth","post","_id","text","name","avatar","user","likes","comments","date","showActions","className","children","to","concat","src","alt","format","onClick","e","type","length","loading","defaultProps","mapStateToProps","state"],"sources":["C:/DEVC/client/src/components/posts/PostItem.js"],"sourcesContent":["import React, { Fragment } from \"react\";\r\nimport PropTypes from 'prop-types';\r\nimport {Link } from 'react-router-dom';\r\nimport Moment from 'react-moment';\r\nimport {connect} from 'react-redux';\r\nimport { addLike, removeLike, deletePost } from '../../actions/post';\r\n\r\nconst PostItem = ({\r\n  addLike,\r\n  removeLike,\r\n  deletePost,\r\n       auth, post: {_id, text, name, avatar, user, likes, comments, date },\r\n       showActions\r\n }) =>\r\n         <div className=\"post bg-white p-1 my-1\">\r\n          <div>\r\n            <Link to={`/profile/${user}`}>\r\n              <img\r\n                className=\"round-img\"\r\n                src={avatar}\r\n                alt=\"\"\r\n              />\r\n              <h4>{name}</h4>\r\n            </Link>\r\n          </div>\r\n          <div>\r\n            <p className=\"my-1\">\r\n              {text}\r\n            </p>\r\n             <p className=\"post-date\">\r\n                Posted on <Moment format='YYYY/MM/DD'>{date}</Moment>\r\n            </p>\r\n\r\n    showActions && <Fragment>\r\n      <button onClick={e => addLike(_id)} type=\"button\" className=\"btn btn-light\">\r\n              <i className=\"fas fa-thumbs-up\" />{' '}\r\n            <span>{likes.length > 0 && (\r\n                <span>{likes.length}</span>\r\n            )}</span>\r\n            </button>\r\n            <button onClick={e => removeLike(_id)} type=\"button\" className=\"btn btn-light\">\r\n              <i className=\"fas fa-thumbs-down\"></i>\r\n            </button>\r\n            <Link to={`/posts/${_id}`} className=\"btn btn-primary\">\r\n              Discussion {' '}\r\n              {comments.length > 0 && (\r\n                  <span className='comment-count'>{comments.length}</span>\r\n              )}\r\n            </Link>\r\n            {!auth.loading && user === auth.user._id &&(\r\n                 <button onClick={e => deletePost(_id)}\r\n            type=\"button\"\r\n            className=\"btn btn-danger\"\r\n          >\r\n            <i className=\"fas fa-times\"></i>\r\n          </button>\r\n            )}\r\n  </Fragment>\r\n       \r\n          </div>\r\n        </div>\r\n\r\nPostItem.defaultProps = {\r\n  showActions: true\r\n};\r\n\r\nPostItem.propTypes = {\r\npost: PropTypes.object.isRequired,\r\nauth: PropTypes.object.isRequired,\r\naddLike: PropTypes.func.isRequired,\r\nremoveLike: PropTypes.func.isRequired,\r\ndeletePost: PropTypes.func.isRequired\r\n\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    auth: state.auth\r\n})\r\n\r\nexport default connect(mapStateToProps, { addLike, removeLike, deletePost })(PostItem)\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}