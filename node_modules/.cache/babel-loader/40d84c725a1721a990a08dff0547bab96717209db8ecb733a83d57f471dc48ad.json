{"ast":null,"code":"/*!\n * Module dependencies.\n */\n\n'use strict';\n\nconst SchemaType = require('../schemaType');\nconst symbols = require('./symbols');\nconst isObject = require('../helpers/isObject');\nconst utils = require('../utils');\n\n/**\n * Mixed SchemaType constructor.\n *\n * @param {String} path\n * @param {Object} options\n * @param {Object} _schemaOptions\n * @param {Schema} parentSchema\n * @inherits SchemaType\n * @api public\n */\n\nfunction SchemaMixed(path, options, _schemaOptions, parentSchema) {\n  if (options?.default) {\n    const def = options.default;\n    if (Array.isArray(def) && def.length === 0) {\n      // make sure empty array defaults are handled\n      options.default = Array;\n    } else if (!options.shared && isObject(def) && utils.hasOwnKeys(def) === false) {\n      // prevent odd \"shared\" objects between documents\n      options.default = function () {\n        return {};\n      };\n    }\n  }\n  SchemaType.call(this, path, options, 'Mixed', parentSchema);\n  this[symbols.schemaMixedSymbol] = true;\n}\n\n/**\n * This schema type's name, to defend against minifiers that mangle\n * function names.\n *\n * @api public\n */\nSchemaMixed.schemaName = 'Mixed';\nSchemaMixed.defaultOptions = {};\n\n/*!\n * Inherits from SchemaType.\n */\nSchemaMixed.prototype = Object.create(SchemaType.prototype);\nSchemaMixed.prototype.constructor = SchemaMixed;\n\n/**\n * Attaches a getter for all Mixed paths.\n *\n * #### Example:\n *\n *     // Hide the 'hidden' path\n *     mongoose.Schema.Mixed.get(v => Object.assign({}, v, { hidden: null }));\n *\n *     const Model = mongoose.model('Test', new Schema({ test: {} }));\n *     new Model({ test: { hidden: 'Secret!' } }).test.hidden; // null\n *\n * @param {Function} getter\n * @return {this}\n * @function get\n * @static\n * @api public\n */\n\nSchemaMixed.get = SchemaType.get;\n\n/**\n * Sets a default option for all Mixed instances.\n *\n * #### Example:\n *\n *     // Make all mixed instances have `required` of true by default.\n *     mongoose.Schema.Mixed.set('required', true);\n *\n *     const User = mongoose.model('User', new Schema({ test: mongoose.Mixed }));\n *     new User({ }).validateSync().errors.test.message; // Path `test` is required.\n *\n * @param {String} option The option you'd like to set the value for\n * @param {Any} value value for option\n * @return {undefined}\n * @function set\n * @static\n * @api public\n */\n\nSchemaMixed.set = SchemaType.set;\nSchemaMixed.setters = [];\n\n/**\n * Casts `val` for Mixed.\n *\n * _this is a no-op_\n *\n * @param {Object} value to cast\n * @api private\n */\n\nSchemaMixed.prototype.cast = function (val) {\n  if (val instanceof Error) {\n    return utils.errorToPOJO(val);\n  }\n  return val;\n};\n\n/**\n * Casts contents for queries.\n *\n * @param {String} $cond\n * @param {any} [val]\n * @api private\n */\n\nSchemaMixed.prototype.castForQuery = function ($cond, val) {\n  return val;\n};\n\n/**\n * Returns this schema type's representation in a JSON schema.\n *\n * @param [options]\n * @param [options.useBsonType=false] If true, return a representation with `bsonType` for use with MongoDB's `$jsonSchema`.\n * @returns {Object} JSON schema properties\n */\n\n// eslint-disable-next-line no-unused-vars\nSchemaMixed.prototype.toJSONSchema = function toJSONSchema(_options) {\n  return {};\n};\n\n/*!\n * Module exports.\n */\n\nmodule.exports = SchemaMixed;","map":{"version":3,"names":["SchemaType","require","symbols","isObject","utils","SchemaMixed","path","options","_schemaOptions","parentSchema","default","def","Array","isArray","length","shared","hasOwnKeys","call","schemaMixedSymbol","schemaName","defaultOptions","prototype","Object","create","constructor","get","set","setters","cast","val","Error","errorToPOJO","castForQuery","$cond","toJSONSchema","_options","module","exports"],"sources":["C:/DEVC/node_modules/mongoose/lib/schema/mixed.js"],"sourcesContent":["/*!\n * Module dependencies.\n */\n\n'use strict';\n\nconst SchemaType = require('../schemaType');\nconst symbols = require('./symbols');\nconst isObject = require('../helpers/isObject');\nconst utils = require('../utils');\n\n/**\n * Mixed SchemaType constructor.\n *\n * @param {String} path\n * @param {Object} options\n * @param {Object} _schemaOptions\n * @param {Schema} parentSchema\n * @inherits SchemaType\n * @api public\n */\n\nfunction SchemaMixed(path, options, _schemaOptions, parentSchema) {\n  if (options?.default) {\n    const def = options.default;\n    if (Array.isArray(def) && def.length === 0) {\n      // make sure empty array defaults are handled\n      options.default = Array;\n    } else if (!options.shared && isObject(def) && utils.hasOwnKeys(def) === false) {\n      // prevent odd \"shared\" objects between documents\n      options.default = function() {\n        return {};\n      };\n    }\n  }\n\n  SchemaType.call(this, path, options, 'Mixed', parentSchema);\n\n  this[symbols.schemaMixedSymbol] = true;\n}\n\n/**\n * This schema type's name, to defend against minifiers that mangle\n * function names.\n *\n * @api public\n */\nSchemaMixed.schemaName = 'Mixed';\n\nSchemaMixed.defaultOptions = {};\n\n/*!\n * Inherits from SchemaType.\n */\nSchemaMixed.prototype = Object.create(SchemaType.prototype);\nSchemaMixed.prototype.constructor = SchemaMixed;\n\n/**\n * Attaches a getter for all Mixed paths.\n *\n * #### Example:\n *\n *     // Hide the 'hidden' path\n *     mongoose.Schema.Mixed.get(v => Object.assign({}, v, { hidden: null }));\n *\n *     const Model = mongoose.model('Test', new Schema({ test: {} }));\n *     new Model({ test: { hidden: 'Secret!' } }).test.hidden; // null\n *\n * @param {Function} getter\n * @return {this}\n * @function get\n * @static\n * @api public\n */\n\nSchemaMixed.get = SchemaType.get;\n\n/**\n * Sets a default option for all Mixed instances.\n *\n * #### Example:\n *\n *     // Make all mixed instances have `required` of true by default.\n *     mongoose.Schema.Mixed.set('required', true);\n *\n *     const User = mongoose.model('User', new Schema({ test: mongoose.Mixed }));\n *     new User({ }).validateSync().errors.test.message; // Path `test` is required.\n *\n * @param {String} option The option you'd like to set the value for\n * @param {Any} value value for option\n * @return {undefined}\n * @function set\n * @static\n * @api public\n */\n\nSchemaMixed.set = SchemaType.set;\n\nSchemaMixed.setters = [];\n\n/**\n * Casts `val` for Mixed.\n *\n * _this is a no-op_\n *\n * @param {Object} value to cast\n * @api private\n */\n\nSchemaMixed.prototype.cast = function(val) {\n  if (val instanceof Error) {\n    return utils.errorToPOJO(val);\n  }\n  return val;\n};\n\n/**\n * Casts contents for queries.\n *\n * @param {String} $cond\n * @param {any} [val]\n * @api private\n */\n\nSchemaMixed.prototype.castForQuery = function($cond, val) {\n  return val;\n};\n\n/**\n * Returns this schema type's representation in a JSON schema.\n *\n * @param [options]\n * @param [options.useBsonType=false] If true, return a representation with `bsonType` for use with MongoDB's `$jsonSchema`.\n * @returns {Object} JSON schema properties\n */\n\n// eslint-disable-next-line no-unused-vars\nSchemaMixed.prototype.toJSONSchema = function toJSONSchema(_options) {\n  return {};\n};\n\n/*!\n * Module exports.\n */\n\nmodule.exports = SchemaMixed;\n"],"mappings":"AAAA;AACA;AACA;;AAEA,YAAY;;AAEZ,MAAMA,UAAU,GAAGC,OAAO,CAAC,eAAe,CAAC;AAC3C,MAAMC,OAAO,GAAGD,OAAO,CAAC,WAAW,CAAC;AACpC,MAAME,QAAQ,GAAGF,OAAO,CAAC,qBAAqB,CAAC;AAC/C,MAAMG,KAAK,GAAGH,OAAO,CAAC,UAAU,CAAC;;AAEjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAASI,WAAWA,CAACC,IAAI,EAAEC,OAAO,EAAEC,cAAc,EAAEC,YAAY,EAAE;EAChE,IAAIF,OAAO,EAAEG,OAAO,EAAE;IACpB,MAAMC,GAAG,GAAGJ,OAAO,CAACG,OAAO;IAC3B,IAAIE,KAAK,CAACC,OAAO,CAACF,GAAG,CAAC,IAAIA,GAAG,CAACG,MAAM,KAAK,CAAC,EAAE;MAC1C;MACAP,OAAO,CAACG,OAAO,GAAGE,KAAK;IACzB,CAAC,MAAM,IAAI,CAACL,OAAO,CAACQ,MAAM,IAAIZ,QAAQ,CAACQ,GAAG,CAAC,IAAIP,KAAK,CAACY,UAAU,CAACL,GAAG,CAAC,KAAK,KAAK,EAAE;MAC9E;MACAJ,OAAO,CAACG,OAAO,GAAG,YAAW;QAC3B,OAAO,CAAC,CAAC;MACX,CAAC;IACH;EACF;EAEAV,UAAU,CAACiB,IAAI,CAAC,IAAI,EAAEX,IAAI,EAAEC,OAAO,EAAE,OAAO,EAAEE,YAAY,CAAC;EAE3D,IAAI,CAACP,OAAO,CAACgB,iBAAiB,CAAC,GAAG,IAAI;AACxC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACAb,WAAW,CAACc,UAAU,GAAG,OAAO;AAEhCd,WAAW,CAACe,cAAc,GAAG,CAAC,CAAC;;AAE/B;AACA;AACA;AACAf,WAAW,CAACgB,SAAS,GAAGC,MAAM,CAACC,MAAM,CAACvB,UAAU,CAACqB,SAAS,CAAC;AAC3DhB,WAAW,CAACgB,SAAS,CAACG,WAAW,GAAGnB,WAAW;;AAE/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAA,WAAW,CAACoB,GAAG,GAAGzB,UAAU,CAACyB,GAAG;;AAEhC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEApB,WAAW,CAACqB,GAAG,GAAG1B,UAAU,CAAC0B,GAAG;AAEhCrB,WAAW,CAACsB,OAAO,GAAG,EAAE;;AAExB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAtB,WAAW,CAACgB,SAAS,CAACO,IAAI,GAAG,UAASC,GAAG,EAAE;EACzC,IAAIA,GAAG,YAAYC,KAAK,EAAE;IACxB,OAAO1B,KAAK,CAAC2B,WAAW,CAACF,GAAG,CAAC;EAC/B;EACA,OAAOA,GAAG;AACZ,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAxB,WAAW,CAACgB,SAAS,CAACW,YAAY,GAAG,UAASC,KAAK,EAAEJ,GAAG,EAAE;EACxD,OAAOA,GAAG;AACZ,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACAxB,WAAW,CAACgB,SAAS,CAACa,YAAY,GAAG,SAASA,YAAYA,CAACC,QAAQ,EAAE;EACnE,OAAO,CAAC,CAAC;AACX,CAAC;;AAED;AACA;AACA;;AAEAC,MAAM,CAACC,OAAO,GAAGhC,WAAW","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}