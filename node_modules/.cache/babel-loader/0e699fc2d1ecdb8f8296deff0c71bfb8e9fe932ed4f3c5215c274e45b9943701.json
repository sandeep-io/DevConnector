{"ast":null,"code":"import axios from\"axios\";import{ADD_POST,DELETE_POST,GET_POSTS,POST_ERROR,UPDATE_LIKES,GET_POST,ADD_COMMENT,REMOVE_COMMENT}from\"./types\";import{setAlert}from\"./alert\";//Get posts\nexport const getPosts=()=>async dispatch=>{try{const res=await axios.get('/api/posts');dispatch({type:GET_POSTS,payload:res.data});}catch(error){dispatch({type:POST_ERROR,payload:{msg:error.response.statusText,status:error.response.status}});}};// Add Like\nexport const addLike=id=>async dispatch=>{try{const res=await axios.put(\"/api/posts/like/\".concat(id));dispatch({type:UPDATE_LIKES,payload:{id,likes:res.data}});}catch(error){dispatch({type:POST_ERROR,payload:{msg:error.response.statusText,status:error.response.status}});}};// Remove Like\nexport const removeLike=id=>async dispatch=>{try{const res=await axios.put(\"/api/posts/unlike/\".concat(id));dispatch({type:UPDATE_LIKES,payload:{id,likes:res.data}});}catch(error){dispatch({type:POST_ERROR,payload:{msg:error.response.statusText,status:error.response.status}});}};// Delete  post\nexport const deletePost=id=>async dispatch=>{try{await axios.delete(\"/api/posts/\".concat(id));dispatch({type:DELETE_POST,payload:{id}});dispatch(setAlert('Post Removed','success'));}catch(error){dispatch({type:POST_ERROR,payload:{msg:error.response.statusText,status:error.response.status}});}};// Add Post\nexport const addPost=FormData=>async dispatch=>{const config={headers:{'Content-Type':'application/json'}};try{const res=await axios.post('/api/posts',FormData,config);dispatch({type:ADD_POST,payload:res.data});dispatch(setAlert('Post Created','success'));}catch(error){dispatch({type:POST_ERROR,payload:{msg:error.response.statusText,status:error.response.status}});}};//Get post\nexport const getPost=id=>async dispatch=>{try{const res=await axios.get(\"/api/posts/\".concat(id));dispatch({type:GET_POST,payload:res.data});}catch(error){dispatch({type:POST_ERROR,payload:{msg:error.response.statusText,status:error.response.status}});}};// Add Comment\nexport const addComment=(postId,FormData)=>async dispatch=>{const config={headers:{'Content-Type':'application/json'}};try{const res=await axios.post(\"/api/posts/comment/\".concat(postId),FormData,config);dispatch({type:ADD_COMMENT,payload:res.data});dispatch(setAlert('Comment Added','success'));}catch(error){dispatch({type:POST_ERROR,payload:{msg:error.response.statusText,status:error.response.status}});}};// Delete Comment\nexport const deleteComment=(postId,commentId)=>async dispatch=>{try{await axios.delete(\"/api/posts/comment/\".concat(postId,\"/\").concat(commentId));dispatch({type:REMOVE_COMMENT,payload:commentId});dispatch(setAlert('Comment Removed','success'));}catch(error){dispatch({type:POST_ERROR,payload:{msg:error.response.statusText,status:error.response.status}});}};","map":{"version":3,"names":["axios","ADD_POST","DELETE_POST","GET_POSTS","POST_ERROR","UPDATE_LIKES","GET_POST","ADD_COMMENT","REMOVE_COMMENT","setAlert","getPosts","dispatch","res","get","type","payload","data","error","msg","response","statusText","status","addLike","id","put","concat","likes","removeLike","deletePost","delete","addPost","FormData","config","headers","post","getPost","addComment","postId","deleteComment","commentId"],"sources":["C:/DEVC/client/src/actions/post.js"],"sourcesContent":["import axios from \"axios\";\r\nimport {\r\n    ADD_POST,\r\n    DELETE_POST,\r\n    GET_POSTS,\r\n    POST_ERROR,\r\n    UPDATE_LIKES,\r\n    GET_POST,\r\n    ADD_COMMENT,\r\n    REMOVE_COMMENT\r\n} from \"./types\";\r\nimport { setAlert } from \"./alert\";\r\n\r\n//Get posts\r\nexport const getPosts = () => async dispatch => {\r\n    try {\r\n        const res = await axios.get('/api/posts');\r\n\r\n        dispatch({\r\n            type: GET_POSTS,\r\n            payload: res.data\r\n        });\r\n    } catch (error) {\r\n         dispatch({\r\n            type: POST_ERROR,\r\n            payload: {msg: error.response.statusText, status: error.response.status}\r\n        });\r\n    }\r\n};\r\n\r\n// Add Like\r\nexport const addLike = id => async dispatch => {\r\n    try {\r\n        const res = await axios.put(`/api/posts/like/${id}`);\r\n\r\n        dispatch({\r\n            type: UPDATE_LIKES,\r\n            payload: { id, likes: res.data}\r\n        });\r\n    } catch (error) {\r\n         dispatch({\r\n            type: POST_ERROR,\r\n            payload: {msg: error.response.statusText, status: error.response.status}\r\n        });\r\n    }\r\n};\r\n\r\n// Remove Like\r\nexport const removeLike = id => async dispatch => {\r\n    try {\r\n        const res =await axios.put(`/api/posts/unlike/${id}`);\r\n\r\n        dispatch({\r\n            type: UPDATE_LIKES,\r\n            payload: {id, likes: res.data }\r\n        });\r\n    } catch (error) {\r\n        dispatch ({\r\n            type: POST_ERROR,\r\n            payload: { msg: error.response.statusText, status:error.response.status}\r\n        });\r\n    }\r\n};\r\n\r\n\r\n// Delete  post\r\nexport const deletePost = id => async dispatch => {\r\n    try {\r\n        await axios.delete(`/api/posts/${id}`);\r\n\r\n        dispatch({\r\n            type: DELETE_POST,\r\n            payload: {id}\r\n        });\r\n\r\n        dispatch(setAlert('Post Removed', 'success'));\r\n    } catch (error) {\r\n        dispatch ({\r\n            type: POST_ERROR,\r\n            payload: { msg: error.response.statusText, status:error.response.status}\r\n        });\r\n    }\r\n};\r\n\r\n// Add Post\r\nexport const addPost = FormData => async dispatch => {\r\n    const config = {\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        }\r\n    }\r\n    try {\r\n      const res = await axios.post('/api/posts', FormData, config);\r\n\r\n        dispatch({\r\n            type: ADD_POST,\r\n            payload: res.data\r\n        });\r\n\r\n        dispatch(setAlert('Post Created', 'success'));\r\n    } catch (error) {\r\n        dispatch ({\r\n            type: POST_ERROR,\r\n            payload: { msg: error.response.statusText, status:error.response.status}\r\n        });\r\n    }\r\n};\r\n\r\n//Get post\r\nexport const getPost = id => async dispatch => {\r\n    try {\r\n        const res = await axios.get(`/api/posts/${id}`);\r\n\r\n        dispatch({\r\n            type: GET_POST,\r\n            payload: res.data\r\n        });\r\n    } catch (error) {\r\n         dispatch({\r\n            type: POST_ERROR,\r\n            payload: {msg: error.response.statusText, status: error.response.status}\r\n        });\r\n    }\r\n}\r\n\r\n// Add Comment\r\nexport const addComment = (postId, FormData) => async dispatch => {\r\n    const config = {\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        }\r\n    }\r\n    try {\r\n      const res = await axios.post(`/api/posts/comment/${postId}`, FormData, config);\r\n\r\n        dispatch({\r\n            type: ADD_COMMENT,\r\n            payload: res.data\r\n        });\r\n\r\n        dispatch(setAlert('Comment Added', 'success'));\r\n    } catch (error) {\r\n        dispatch ({\r\n            type: POST_ERROR,\r\n            payload: { msg: error.response.statusText, status:error.response.status}\r\n        });\r\n    }\r\n};\r\n\r\n// Delete Comment\r\nexport const deleteComment = (postId, commentId) => async dispatch => {\r\n    try {\r\n      await axios.delete(`/api/posts/comment/${postId}/${commentId}`);\r\n\r\n        dispatch({\r\n            type: REMOVE_COMMENT,\r\n            payload: commentId\r\n        });\r\n\r\n        dispatch(setAlert('Comment Removed', 'success'));\r\n    } catch (error) {\r\n        dispatch ({\r\n            type: POST_ERROR,\r\n            payload: { msg: error.response.statusText, status:error.response.status}\r\n        });\r\n    }\r\n};\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OACIC,QAAQ,CACRC,WAAW,CACXC,SAAS,CACTC,UAAU,CACVC,YAAY,CACZC,QAAQ,CACRC,WAAW,CACXC,cAAc,KACX,SAAS,CAChB,OAASC,QAAQ,KAAQ,SAAS,CAElC;AACA,MAAO,MAAM,CAAAC,QAAQ,CAAGA,CAAA,GAAM,KAAM,CAAAC,QAAQ,EAAI,CAC5C,GAAI,CACA,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAZ,KAAK,CAACa,GAAG,CAAC,YAAY,CAAC,CAEzCF,QAAQ,CAAC,CACLG,IAAI,CAAEX,SAAS,CACfY,OAAO,CAAEH,GAAG,CAACI,IACjB,CAAC,CAAC,CACN,CAAE,MAAOC,KAAK,CAAE,CACXN,QAAQ,CAAC,CACNG,IAAI,CAAEV,UAAU,CAChBW,OAAO,CAAE,CAACG,GAAG,CAAED,KAAK,CAACE,QAAQ,CAACC,UAAU,CAAEC,MAAM,CAAEJ,KAAK,CAACE,QAAQ,CAACE,MAAM,CAC3E,CAAC,CAAC,CACN,CACJ,CAAC,CAED;AACA,MAAO,MAAM,CAAAC,OAAO,CAAGC,EAAE,EAAI,KAAM,CAAAZ,QAAQ,EAAI,CAC3C,GAAI,CACA,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAZ,KAAK,CAACwB,GAAG,oBAAAC,MAAA,CAAoBF,EAAE,CAAE,CAAC,CAEpDZ,QAAQ,CAAC,CACLG,IAAI,CAAET,YAAY,CAClBU,OAAO,CAAE,CAAEQ,EAAE,CAAEG,KAAK,CAAEd,GAAG,CAACI,IAAI,CAClC,CAAC,CAAC,CACN,CAAE,MAAOC,KAAK,CAAE,CACXN,QAAQ,CAAC,CACNG,IAAI,CAAEV,UAAU,CAChBW,OAAO,CAAE,CAACG,GAAG,CAAED,KAAK,CAACE,QAAQ,CAACC,UAAU,CAAEC,MAAM,CAAEJ,KAAK,CAACE,QAAQ,CAACE,MAAM,CAC3E,CAAC,CAAC,CACN,CACJ,CAAC,CAED;AACA,MAAO,MAAM,CAAAM,UAAU,CAAGJ,EAAE,EAAI,KAAM,CAAAZ,QAAQ,EAAI,CAC9C,GAAI,CACA,KAAM,CAAAC,GAAG,CAAE,KAAM,CAAAZ,KAAK,CAACwB,GAAG,sBAAAC,MAAA,CAAsBF,EAAE,CAAE,CAAC,CAErDZ,QAAQ,CAAC,CACLG,IAAI,CAAET,YAAY,CAClBU,OAAO,CAAE,CAACQ,EAAE,CAAEG,KAAK,CAAEd,GAAG,CAACI,IAAK,CAClC,CAAC,CAAC,CACN,CAAE,MAAOC,KAAK,CAAE,CACZN,QAAQ,CAAE,CACNG,IAAI,CAAEV,UAAU,CAChBW,OAAO,CAAE,CAAEG,GAAG,CAAED,KAAK,CAACE,QAAQ,CAACC,UAAU,CAAEC,MAAM,CAACJ,KAAK,CAACE,QAAQ,CAACE,MAAM,CAC3E,CAAC,CAAC,CACN,CACJ,CAAC,CAGD;AACA,MAAO,MAAM,CAAAO,UAAU,CAAGL,EAAE,EAAI,KAAM,CAAAZ,QAAQ,EAAI,CAC9C,GAAI,CACA,KAAM,CAAAX,KAAK,CAAC6B,MAAM,eAAAJ,MAAA,CAAeF,EAAE,CAAE,CAAC,CAEtCZ,QAAQ,CAAC,CACLG,IAAI,CAAEZ,WAAW,CACjBa,OAAO,CAAE,CAACQ,EAAE,CAChB,CAAC,CAAC,CAEFZ,QAAQ,CAACF,QAAQ,CAAC,cAAc,CAAE,SAAS,CAAC,CAAC,CACjD,CAAE,MAAOQ,KAAK,CAAE,CACZN,QAAQ,CAAE,CACNG,IAAI,CAAEV,UAAU,CAChBW,OAAO,CAAE,CAAEG,GAAG,CAAED,KAAK,CAACE,QAAQ,CAACC,UAAU,CAAEC,MAAM,CAACJ,KAAK,CAACE,QAAQ,CAACE,MAAM,CAC3E,CAAC,CAAC,CACN,CACJ,CAAC,CAED;AACA,MAAO,MAAM,CAAAS,OAAO,CAAGC,QAAQ,EAAI,KAAM,CAAApB,QAAQ,EAAI,CACjD,KAAM,CAAAqB,MAAM,CAAG,CACXC,OAAO,CAAE,CACL,cAAc,CAAE,kBACpB,CACJ,CAAC,CACD,GAAI,CACF,KAAM,CAAArB,GAAG,CAAG,KAAM,CAAAZ,KAAK,CAACkC,IAAI,CAAC,YAAY,CAAEH,QAAQ,CAAEC,MAAM,CAAC,CAE1DrB,QAAQ,CAAC,CACLG,IAAI,CAAEb,QAAQ,CACdc,OAAO,CAAEH,GAAG,CAACI,IACjB,CAAC,CAAC,CAEFL,QAAQ,CAACF,QAAQ,CAAC,cAAc,CAAE,SAAS,CAAC,CAAC,CACjD,CAAE,MAAOQ,KAAK,CAAE,CACZN,QAAQ,CAAE,CACNG,IAAI,CAAEV,UAAU,CAChBW,OAAO,CAAE,CAAEG,GAAG,CAAED,KAAK,CAACE,QAAQ,CAACC,UAAU,CAAEC,MAAM,CAACJ,KAAK,CAACE,QAAQ,CAACE,MAAM,CAC3E,CAAC,CAAC,CACN,CACJ,CAAC,CAED;AACA,MAAO,MAAM,CAAAc,OAAO,CAAGZ,EAAE,EAAI,KAAM,CAAAZ,QAAQ,EAAI,CAC3C,GAAI,CACA,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAZ,KAAK,CAACa,GAAG,eAAAY,MAAA,CAAeF,EAAE,CAAE,CAAC,CAE/CZ,QAAQ,CAAC,CACLG,IAAI,CAAER,QAAQ,CACdS,OAAO,CAAEH,GAAG,CAACI,IACjB,CAAC,CAAC,CACN,CAAE,MAAOC,KAAK,CAAE,CACXN,QAAQ,CAAC,CACNG,IAAI,CAAEV,UAAU,CAChBW,OAAO,CAAE,CAACG,GAAG,CAAED,KAAK,CAACE,QAAQ,CAACC,UAAU,CAAEC,MAAM,CAAEJ,KAAK,CAACE,QAAQ,CAACE,MAAM,CAC3E,CAAC,CAAC,CACN,CACJ,CAAC,CAED;AACA,MAAO,MAAM,CAAAe,UAAU,CAAGA,CAACC,MAAM,CAAEN,QAAQ,GAAK,KAAM,CAAApB,QAAQ,EAAI,CAC9D,KAAM,CAAAqB,MAAM,CAAG,CACXC,OAAO,CAAE,CACL,cAAc,CAAE,kBACpB,CACJ,CAAC,CACD,GAAI,CACF,KAAM,CAAArB,GAAG,CAAG,KAAM,CAAAZ,KAAK,CAACkC,IAAI,uBAAAT,MAAA,CAAuBY,MAAM,EAAIN,QAAQ,CAAEC,MAAM,CAAC,CAE5ErB,QAAQ,CAAC,CACLG,IAAI,CAAEP,WAAW,CACjBQ,OAAO,CAAEH,GAAG,CAACI,IACjB,CAAC,CAAC,CAEFL,QAAQ,CAACF,QAAQ,CAAC,eAAe,CAAE,SAAS,CAAC,CAAC,CAClD,CAAE,MAAOQ,KAAK,CAAE,CACZN,QAAQ,CAAE,CACNG,IAAI,CAAEV,UAAU,CAChBW,OAAO,CAAE,CAAEG,GAAG,CAAED,KAAK,CAACE,QAAQ,CAACC,UAAU,CAAEC,MAAM,CAACJ,KAAK,CAACE,QAAQ,CAACE,MAAM,CAC3E,CAAC,CAAC,CACN,CACJ,CAAC,CAED;AACA,MAAO,MAAM,CAAAiB,aAAa,CAAGA,CAACD,MAAM,CAAEE,SAAS,GAAK,KAAM,CAAA5B,QAAQ,EAAI,CAClE,GAAI,CACF,KAAM,CAAAX,KAAK,CAAC6B,MAAM,uBAAAJ,MAAA,CAAuBY,MAAM,MAAAZ,MAAA,CAAIc,SAAS,CAAE,CAAC,CAE7D5B,QAAQ,CAAC,CACLG,IAAI,CAAEN,cAAc,CACpBO,OAAO,CAAEwB,SACb,CAAC,CAAC,CAEF5B,QAAQ,CAACF,QAAQ,CAAC,iBAAiB,CAAE,SAAS,CAAC,CAAC,CACpD,CAAE,MAAOQ,KAAK,CAAE,CACZN,QAAQ,CAAE,CACNG,IAAI,CAAEV,UAAU,CAChBW,OAAO,CAAE,CAAEG,GAAG,CAAED,KAAK,CAACE,QAAQ,CAACC,UAAU,CAAEC,MAAM,CAACJ,KAAK,CAACE,QAAQ,CAACE,MAAM,CAC3E,CAAC,CAAC,CACN,CACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}