{"ast":null,"code":"import _objectSpread from\"C:/DEVC/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{GET_POSTS,POST_ERROR,UPDATE_LIKES,DELETE_POST,ADD_POST,GET_POST,ADD_COMMENT,REMOVE_COMMENT}from'../actions/types';const initialState={posts:[],post:null,loading:true,error:{}};export default function postReducer(){let state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;let action=arguments.length>1?arguments[1]:undefined;const{type,payload}=action;switch(type){case GET_POSTS:return _objectSpread(_objectSpread({},state),{},{posts:payload,loading:false});case GET_POST:return _objectSpread(_objectSpread({},state),{},{posts:[payload,...state.posts],loading:false});case ADD_POST:return _objectSpread(_objectSpread({},state),{},{posts:[payload,...state.posts]});case DELETE_POST:return _objectSpread(_objectSpread({},state),{},{posts:state.posts.filter(post=>post._id!==payload),loading:false});case POST_ERROR:return _objectSpread(_objectSpread({},state),{},{error:payload,loading:false});case UPDATE_LIKES:return _objectSpread(_objectSpread({},state),{},{posts:state.posts.map(post=>post._id===payload.id?_objectSpread(_objectSpread({},post),{},{likes:payload.likes}):post),loading:false});case ADD_COMMENT:return _objectSpread(_objectSpread({},state),{},{post:_objectSpread(_objectSpread({},state.post),{},{comments:payload}),loading:false});case REMOVE_COMMENT:return _objectSpread(_objectSpread({},state),{},{post:_objectSpread(_objectSpread({},state.post),{},{comments:state.post.comments.filter(comment=>comment._id!==payload)}),loading:false});default:return state;}}","map":{"version":3,"names":["GET_POSTS","POST_ERROR","UPDATE_LIKES","DELETE_POST","ADD_POST","GET_POST","ADD_COMMENT","REMOVE_COMMENT","initialState","posts","post","loading","error","postReducer","state","arguments","length","undefined","action","type","payload","_objectSpread","filter","_id","map","id","likes","comments","comment"],"sources":["C:/DEVC/client/src/reducers/post.js"],"sourcesContent":["import {\r\n    GET_POSTS,\r\n    POST_ERROR,\r\n    UPDATE_LIKES,\r\n    DELETE_POST,\r\n    ADD_POST,\r\n    GET_POST,\r\n    ADD_COMMENT,\r\n    REMOVE_COMMENT\r\n} from '../actions/types'\r\n\r\nconst initialState = {\r\n    posts: [],\r\n    post: null,\r\n    loading: true,\r\n    error: {}\r\n}\r\n\r\nexport default function postReducer(state = initialState, action) {\r\n    const { type, payload } = action;\r\n\r\n    switch(type) {\r\n        case GET_POSTS:\r\n            return {\r\n                ...state,\r\n                posts: payload,\r\n                loading: false\r\n            };\r\n       case GET_POST:\r\n        return {\r\n            ...state,\r\n            posts: [payload, ...state.posts ],\r\n            loading: false\r\n        };\r\n \r\n            case ADD_POST:\r\n                return {\r\n                    ...state,\r\n                    posts: [payload, ...state.posts],\r\n                };\r\n            case DELETE_POST:\r\n                return {\r\n                    ...state,\r\n                    posts: state.posts.filter(post => post._id !== payload),\r\n                    loading: false\r\n                }\r\n            case POST_ERROR:\r\n            return {\r\n                ...state,\r\n                error: payload,\r\n                loading: false\r\n            };\r\n            case UPDATE_LIKES:\r\n            return{\r\n                ...state,\r\n                posts: state.posts.map(post => post._id === payload.id ? { ...post, likes: payload.likes } : post),\r\n                loading : false\r\n            };\r\n            case ADD_COMMENT:\r\n                return {\r\n                    ...state,\r\n                    post: { ...state.post, comments: payload },\r\n                    loading: false\r\n                }\r\n                case REMOVE_COMMENT:\r\n                    return {\r\n                        ...state,\r\n                        post: {\r\n                            ...state.post,\r\n                        comments: state.post.comments.filter(comment => comment._id !== payload)\r\n                    },\r\n                    loading: false\r\n                };\r\n            default:\r\n                return state;\r\n    }\r\n}"],"mappings":"mGAAA,OACIA,SAAS,CACTC,UAAU,CACVC,YAAY,CACZC,WAAW,CACXC,QAAQ,CACRC,QAAQ,CACRC,WAAW,CACXC,cAAc,KACX,kBAAkB,CAEzB,KAAM,CAAAC,YAAY,CAAG,CACjBC,KAAK,CAAE,EAAE,CACTC,IAAI,CAAE,IAAI,CACVC,OAAO,CAAE,IAAI,CACbC,KAAK,CAAE,CAAC,CACZ,CAAC,CAED,cAAe,SAAS,CAAAC,WAAWA,CAAA,CAA+B,IAA9B,CAAAC,KAAK,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAGP,YAAY,IAAE,CAAAU,MAAM,CAAAH,SAAA,CAAAC,MAAA,GAAAD,SAAA,IAAAE,SAAA,CAC5D,KAAM,CAAEE,IAAI,CAAEC,OAAQ,CAAC,CAAGF,MAAM,CAEhC,OAAOC,IAAI,EACP,IAAK,CAAAnB,SAAS,CACV,OAAAqB,aAAA,CAAAA,aAAA,IACOP,KAAK,MACRL,KAAK,CAAEW,OAAO,CACdT,OAAO,CAAE,KAAK,GAEvB,IAAK,CAAAN,QAAQ,CACZ,OAAAgB,aAAA,CAAAA,aAAA,IACOP,KAAK,MACRL,KAAK,CAAE,CAACW,OAAO,CAAE,GAAGN,KAAK,CAACL,KAAK,CAAE,CACjCE,OAAO,CAAE,KAAK,GAGd,IAAK,CAAAP,QAAQ,CACT,OAAAiB,aAAA,CAAAA,aAAA,IACOP,KAAK,MACRL,KAAK,CAAE,CAACW,OAAO,CAAE,GAAGN,KAAK,CAACL,KAAK,CAAC,GAExC,IAAK,CAAAN,WAAW,CACZ,OAAAkB,aAAA,CAAAA,aAAA,IACOP,KAAK,MACRL,KAAK,CAAEK,KAAK,CAACL,KAAK,CAACa,MAAM,CAACZ,IAAI,EAAIA,IAAI,CAACa,GAAG,GAAKH,OAAO,CAAC,CACvDT,OAAO,CAAE,KAAK,GAEtB,IAAK,CAAAV,UAAU,CACf,OAAAoB,aAAA,CAAAA,aAAA,IACOP,KAAK,MACRF,KAAK,CAAEQ,OAAO,CACdT,OAAO,CAAE,KAAK,GAElB,IAAK,CAAAT,YAAY,CACjB,OAAAmB,aAAA,CAAAA,aAAA,IACOP,KAAK,MACRL,KAAK,CAAEK,KAAK,CAACL,KAAK,CAACe,GAAG,CAACd,IAAI,EAAIA,IAAI,CAACa,GAAG,GAAKH,OAAO,CAACK,EAAE,CAAAJ,aAAA,CAAAA,aAAA,IAAQX,IAAI,MAAEgB,KAAK,CAAEN,OAAO,CAACM,KAAK,GAAKhB,IAAI,CAAC,CAClGC,OAAO,CAAG,KAAK,GAEnB,IAAK,CAAAL,WAAW,CACZ,OAAAe,aAAA,CAAAA,aAAA,IACOP,KAAK,MACRJ,IAAI,CAAAW,aAAA,CAAAA,aAAA,IAAOP,KAAK,CAACJ,IAAI,MAAEiB,QAAQ,CAAEP,OAAO,EAAE,CAC1CT,OAAO,CAAE,KAAK,GAElB,IAAK,CAAAJ,cAAc,CACf,OAAAc,aAAA,CAAAA,aAAA,IACOP,KAAK,MACRJ,IAAI,CAAAW,aAAA,CAAAA,aAAA,IACGP,KAAK,CAACJ,IAAI,MACjBiB,QAAQ,CAAEb,KAAK,CAACJ,IAAI,CAACiB,QAAQ,CAACL,MAAM,CAACM,OAAO,EAAIA,OAAO,CAACL,GAAG,GAAKH,OAAO,CAAC,EAC3E,CACDT,OAAO,CAAE,KAAK,GAEtB,QACI,MAAO,CAAAG,KAAK,CACxB,CACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}