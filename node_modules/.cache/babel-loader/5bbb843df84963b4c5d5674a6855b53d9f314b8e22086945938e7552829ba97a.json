{"ast":null,"code":"'use strict';\n\nconst {\n  Long\n} = require('mongodb/lib/bson');\n\n/**\n * Given a value, cast it to a BigInt, or throw an `Error` if the value\n * cannot be casted. `null` and `undefined` are considered valid.\n *\n * @param {Any} value\n * @return {Number}\n * @throws {Error} if `value` is not one of the allowed values\n * @api private\n */\n\nconst MAX_BIGINT = 9223372036854775807n;\nconst MIN_BIGINT = -9223372036854775808n;\nconst ERROR_MESSAGE = `Mongoose only supports BigInts between ${MIN_BIGINT} and ${MAX_BIGINT} because MongoDB does not support arbitrary precision integers`;\nmodule.exports = function castBigInt(val) {\n  if (val == null) {\n    return val;\n  }\n  if (val === '') {\n    return null;\n  }\n  if (typeof val === 'bigint') {\n    if (val > MAX_BIGINT || val < MIN_BIGINT) {\n      throw new Error(ERROR_MESSAGE);\n    }\n    return val;\n  }\n  if (val instanceof Long) {\n    return val.toBigInt();\n  }\n  if (typeof val === 'string' || typeof val === 'number') {\n    val = BigInt(val);\n    if (val > MAX_BIGINT || val < MIN_BIGINT) {\n      throw new Error(ERROR_MESSAGE);\n    }\n    return val;\n  }\n  throw new Error(`Cannot convert value to BigInt: \"${val}\"`);\n};","map":{"version":3,"names":["Long","require","MAX_BIGINT","MIN_BIGINT","ERROR_MESSAGE","module","exports","castBigInt","val","Error","toBigInt","BigInt"],"sources":["C:/DEVC/node_modules/mongoose/lib/cast/bigint.js"],"sourcesContent":["'use strict';\n\nconst { Long } = require('mongodb/lib/bson');\n\n/**\n * Given a value, cast it to a BigInt, or throw an `Error` if the value\n * cannot be casted. `null` and `undefined` are considered valid.\n *\n * @param {Any} value\n * @return {Number}\n * @throws {Error} if `value` is not one of the allowed values\n * @api private\n */\n\nconst MAX_BIGINT = 9223372036854775807n;\nconst MIN_BIGINT = -9223372036854775808n;\nconst ERROR_MESSAGE = `Mongoose only supports BigInts between ${MIN_BIGINT} and ${MAX_BIGINT} because MongoDB does not support arbitrary precision integers`;\n\nmodule.exports = function castBigInt(val) {\n  if (val == null) {\n    return val;\n  }\n  if (val === '') {\n    return null;\n  }\n  if (typeof val === 'bigint') {\n    if (val > MAX_BIGINT || val < MIN_BIGINT) {\n      throw new Error(ERROR_MESSAGE);\n    }\n    return val;\n  }\n\n  if (val instanceof Long) {\n    return val.toBigInt();\n  }\n\n  if (typeof val === 'string' || typeof val === 'number') {\n    val = BigInt(val);\n    if (val > MAX_BIGINT || val < MIN_BIGINT) {\n      throw new Error(ERROR_MESSAGE);\n    }\n    return val;\n  }\n\n  throw new Error(`Cannot convert value to BigInt: \"${val}\"`);\n};\n"],"mappings":"AAAA,YAAY;;AAEZ,MAAM;EAAEA;AAAK,CAAC,GAAGC,OAAO,CAAC,kBAAkB,CAAC;;AAE5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAMC,UAAU,GAAG,oBAAoB;AACvC,MAAMC,UAAU,GAAG,CAAC,oBAAoB;AACxC,MAAMC,aAAa,GAAG,0CAA0CD,UAAU,QAAQD,UAAU,gEAAgE;AAE5JG,MAAM,CAACC,OAAO,GAAG,SAASC,UAAUA,CAACC,GAAG,EAAE;EACxC,IAAIA,GAAG,IAAI,IAAI,EAAE;IACf,OAAOA,GAAG;EACZ;EACA,IAAIA,GAAG,KAAK,EAAE,EAAE;IACd,OAAO,IAAI;EACb;EACA,IAAI,OAAOA,GAAG,KAAK,QAAQ,EAAE;IAC3B,IAAIA,GAAG,GAAGN,UAAU,IAAIM,GAAG,GAAGL,UAAU,EAAE;MACxC,MAAM,IAAIM,KAAK,CAACL,aAAa,CAAC;IAChC;IACA,OAAOI,GAAG;EACZ;EAEA,IAAIA,GAAG,YAAYR,IAAI,EAAE;IACvB,OAAOQ,GAAG,CAACE,QAAQ,CAAC,CAAC;EACvB;EAEA,IAAI,OAAOF,GAAG,KAAK,QAAQ,IAAI,OAAOA,GAAG,KAAK,QAAQ,EAAE;IACtDA,GAAG,GAAGG,MAAM,CAACH,GAAG,CAAC;IACjB,IAAIA,GAAG,GAAGN,UAAU,IAAIM,GAAG,GAAGL,UAAU,EAAE;MACxC,MAAM,IAAIM,KAAK,CAACL,aAAa,CAAC;IAChC;IACA,OAAOI,GAAG;EACZ;EAEA,MAAM,IAAIC,KAAK,CAAC,oCAAoCD,GAAG,GAAG,CAAC;AAC7D,CAAC","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}