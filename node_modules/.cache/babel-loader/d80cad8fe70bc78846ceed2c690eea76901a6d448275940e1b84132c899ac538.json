{"ast":null,"code":"'use strict';\n\nconst UUID = require('mongodb/lib/bson').UUID;\nconst UUID_FORMAT = /[0-9a-f]{8}-[0-9a-f]{4}-[0-9][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}/i;\nmodule.exports = function castUUID(value) {\n  if (value == null) {\n    return value;\n  }\n  if (value instanceof UUID) {\n    return value;\n  }\n  if (typeof value === 'string') {\n    if (UUID_FORMAT.test(value)) {\n      return new UUID(value);\n    } else {\n      throw new Error(`\"${value}\" is not a valid UUID string`);\n    }\n  }\n\n  // Re: gh-647 and gh-3030, we're ok with casting using `toString()`\n  // **unless** its the default Object.toString, because \"[object Object]\"\n  // doesn't really qualify as useful data\n  if (value.toString && value.toString !== Object.prototype.toString) {\n    if (UUID_FORMAT.test(value.toString())) {\n      return new UUID(value.toString());\n    }\n  }\n  throw new Error(`\"${value}\" cannot be casted to a UUID`);\n};\nmodule.exports.UUID_FORMAT = UUID_FORMAT;","map":{"version":3,"names":["UUID","require","UUID_FORMAT","module","exports","castUUID","value","test","Error","toString","Object","prototype"],"sources":["C:/DEVC/node_modules/mongoose/lib/cast/uuid.js"],"sourcesContent":["'use strict';\n\nconst UUID = require('mongodb/lib/bson').UUID;\n\nconst UUID_FORMAT = /[0-9a-f]{8}-[0-9a-f]{4}-[0-9][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}/i;\n\nmodule.exports = function castUUID(value) {\n  if (value == null) {\n    return value;\n  }\n\n  if (value instanceof UUID) {\n    return value;\n  }\n  if (typeof value === 'string') {\n    if (UUID_FORMAT.test(value)) {\n      return new UUID(value);\n    } else {\n      throw new Error(`\"${value}\" is not a valid UUID string`);\n    }\n  }\n\n  // Re: gh-647 and gh-3030, we're ok with casting using `toString()`\n  // **unless** its the default Object.toString, because \"[object Object]\"\n  // doesn't really qualify as useful data\n  if (value.toString && value.toString !== Object.prototype.toString) {\n    if (UUID_FORMAT.test(value.toString())) {\n      return new UUID(value.toString());\n    }\n  }\n\n  throw new Error(`\"${value}\" cannot be casted to a UUID`);\n};\n\nmodule.exports.UUID_FORMAT = UUID_FORMAT;\n"],"mappings":"AAAA,YAAY;;AAEZ,MAAMA,IAAI,GAAGC,OAAO,CAAC,kBAAkB,CAAC,CAACD,IAAI;AAE7C,MAAME,WAAW,GAAG,0EAA0E;AAE9FC,MAAM,CAACC,OAAO,GAAG,SAASC,QAAQA,CAACC,KAAK,EAAE;EACxC,IAAIA,KAAK,IAAI,IAAI,EAAE;IACjB,OAAOA,KAAK;EACd;EAEA,IAAIA,KAAK,YAAYN,IAAI,EAAE;IACzB,OAAOM,KAAK;EACd;EACA,IAAI,OAAOA,KAAK,KAAK,QAAQ,EAAE;IAC7B,IAAIJ,WAAW,CAACK,IAAI,CAACD,KAAK,CAAC,EAAE;MAC3B,OAAO,IAAIN,IAAI,CAACM,KAAK,CAAC;IACxB,CAAC,MAAM;MACL,MAAM,IAAIE,KAAK,CAAC,IAAIF,KAAK,8BAA8B,CAAC;IAC1D;EACF;;EAEA;EACA;EACA;EACA,IAAIA,KAAK,CAACG,QAAQ,IAAIH,KAAK,CAACG,QAAQ,KAAKC,MAAM,CAACC,SAAS,CAACF,QAAQ,EAAE;IAClE,IAAIP,WAAW,CAACK,IAAI,CAACD,KAAK,CAACG,QAAQ,CAAC,CAAC,CAAC,EAAE;MACtC,OAAO,IAAIT,IAAI,CAACM,KAAK,CAACG,QAAQ,CAAC,CAAC,CAAC;IACnC;EACF;EAEA,MAAM,IAAID,KAAK,CAAC,IAAIF,KAAK,8BAA8B,CAAC;AAC1D,CAAC;AAEDH,MAAM,CAACC,OAAO,CAACF,WAAW,GAAGA,WAAW","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}